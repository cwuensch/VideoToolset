<!DOCTYPE htm PUBLIC "-//W3C//DTD Xhtm 1.0 Transitional//EN" "DTD/xhtm1-transitional.dtd"> 
<htm xmlns="http://www.w3.org/1999/xhtm" xml:lang="de" lang="de">
<head>
 <meta http-equiv="content-type" content="text/htm; charset=iso-8859-1" />
 <meta http-equiv="content-style-type" content="text/css" />
 <meta name="author" content="Arlsair" />
 <meta name="date" content="2004-01-22" />
 <title>Cnr2</title>
 <link rel="stylesheet" type="text/css" href="../../style.css" />
</head><body>
<h1>Cnr2</h1>

<h2>&Uuml;bersicht</h2>
<b>Autor:</b> Lindsey Dubb<br />
<b>Version:</b> 2.51<br />
<b>Dowload:</b> <a href="http://www.avisynth.org/warpenterprises/" target="_blank">http://www.avisynth.org/warpenterprises/</a><br />
<b>Kategorie:</b> Zeitlicher Weichzeichner<br />
<b>Anforderungen:</b> YV12 oder YUY2 Farbformat<br />
<hr>
<font face="verdana"><center><u>
<h2>Cnr2 : Chroma Noise Reducer for AviSynth<br>
</u><small>(v2.51)</small><br>
<br>
</h2>
</center>
<h3>What it does:</h3>
<ul>
  this filter is a Chroma Stabilizer for analogic sources<br>
  It's a temporal filter and it's very effective against two chroma artifacts :<br>
  stationnary rainbows and huge analogic chroma activity.<br>
</ul>
<h3>Usage :</h3>
<ul>
  Add the following lines in your avisynth script :<br>
  <code><br>
  LoadPlugin(&quot;Cnr2.dll&quot;)<br>
  #ex :<br>
  Cnr2() # for TV/VHS caps<br>
  Cnr2(&quot;xxx&quot;,4,5,255) # my suggestion to remove rainbows.<br>
  </code><br>
  Syntax :<br>
  <code><br>
  Cnr2([mode](&quot;oxx&quot;),[scdthr](8),[ln](35),[lm](192),[un](47),[um](255),[vn](47),[vm](255),[log](false))<br>
  </code><br>
  <u>mode</u><br>
  <ul>
    mode of each components, &quot;YUV&quot;<br>
    two modes are possible : wide ('o') and narrow ('x')<br>
    narrow mode is more sensible to variations, and less effective<br>
  </ul>
  <br>
  <u>scdthr</u>
  <ul>
    scenechange detection threshold.<br>
    lower it to make scd more sensible.<br>
    if a scenechange is detected, cnr2 will<br>
    reset the filtering for the new scene<br>
  </ul>
  <br>
  <u>ln,lm,un,um,vn,vm</u> : 0 to 255
  <ul>
    the n values are the movement sensibility :<br>
    higher values will denoise more, but could produce ghosting artifacts<br>
    the m values are the maximum effectiveness of the denoiser :<br>
    lower them to reduce the denoising effect.<br>
  </ul>
  <u>log</u> :
  <ul>
    to log scd internals. use DebugView to see it.<br>
  </ul>
  <br>
  <br>
  &gt; Cnr2()<br>
  &gt; Cnr2(&quot;oxx&quot;,8,35,192,47,255,47,255,false)<br>
  &gt;
  Cnr2(mode=&quot;oxx&quot;,scdthr=8,ln=35,lm=192,un=47,um=255,vn=47,vm=255,false)<br>
  are three aliases : they would produce the same filtering.<br>
</ul>
<br>
<h3>History :</h3>
<ul>
  This Filter is inspired by the Virtual Dub filter Chroma Noise Reduction 1.1
  (by Gilles Mouchard)<br>
  cnr 1.1 was a good chroma filter but was using YUV conversion to do is job.<br>
  I used it for VHS encodes, because it was the better Chroma Noise filter i
  tested<br>
  But when i started to use AviSynth and Huffyuv, RGB convertion was an overhead<br>
  So i take a look on the code and wrote my own filter from scratch, but based
  of the same algo.<br>
  the output of cnr2 is 99,9% to 100% the same as cnr (due to YUV colorspace)<br>
  and it's 3x-5x faster (Cnr2 can do real-time denoising in 640x480x25fps with a
  1,4 Ghz CPU)<br>
</ul>
<ul>
  <u>version 2.1 (31.7.2002)</u><br>
  <ul>
    little review. corrections.
  </ul>
</ul>
<ul>
  <u>version 2.2 (01.8.2002)</u><br>
  <ul>
    First frame bug fixed.
  </ul>
</ul>
<ul>
  <u>version 2.3 (17.11.2002)</u><br>
  <ul>
    YV12 Code and SCD (scene change detection)
  </ul>
</ul>
<ul>
  <u>version 2.4 (17.11.2002)</u><br>
  <ul>
    small changes/bug fixes
  </ul>
</ul>
<ul>
  <u>version 2.51 (13.11.2003)</u><br>
  <ul>
    Klaus Post: bug fixes.
  </ul>
</ul>
<br>
<h3>Distribution :</h3>
<ul>
  This is a free sofware distribued under the terms of the GNU-GPL<br>
  The only restriction is to e-mail me if you want to do something with<br>
  the source because i don't want you to lose your time to decode my<br>
  cryptic C,C++,Delphi (or any other language) writing.<br>
  Thanks :)<br>
</ul>
<h3>Contact :</h3>
<ul>
  Don't even doubt of <a href="mailto:marc.fd@libertysurf.fr">e-mailing me</a>
  for any suggestion :-), bug report :-(,<br>
  feature request :D, or whatever else :-P.<br>
  I hope you'll find this prog useful ! (i do...)<br>
  <br>
  <br>
  <p align="Right">Last update 11.18.02 @ 00h13 CET by <a href="mailto:sh0dan@stofanet.dk">sh0dan</a><br>
</ul>
</font>
</body>
</html>
