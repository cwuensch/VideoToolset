<html>
<head>
<title>AddGrain</title>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: addgrain.htm,v 1.2 2004/08/13 21:57:24 wilbertd Exp $ 
-->
</head>
<body>
<h1>AddGrain</h1>
<h2>Abstract</h2>
<b>author:</b> Tom Barry
<br><b>version:</b>  0.1.0.0
<br><b>download: </b><a href="http://mywebpages.comcast.net/trbarry/downloads.htm">http://mywebpages.comcast.net/trbarry/downloads.htm</a><br>
<b>category:</b> Misc Plugins<br>
<b>requirements:</b> &nbsp;YV12 Colorspace
<hr>
<h2>Description</h2>
<p>AddGrain generates film like grain or other effects (like rain) by adding
random noise to a video clip. This noise may optionally be horizontally or
vertically correlated to cause streaking.</p>
<h3>Usage</h3>
<p>1) Place the AddGrain.dll in a directory somewhere. If that is the C:\Program
Files\AviSynth 2.5\plugins folder folder (recommended) then you can omit the
LoadPlugin command in your script. In your Avisynth file use commands similar to
</p>
<pre>LoadPlugin(&quot;F:\AddGrain\AddGrain.dll&quot;)
AviSource(&quot;D:\wherever\myfile.avi&quot;)
AddGrain(20, 0, 0)</pre>
<p>Of course replace the file and directory names with your own. </p>
<h3><b>P</b><b>arameters</b></h3>
<p><code>AddGrain</code> (<var>float stddev, float HorizCorr, float VerticalCorr</var>) </p>
<p>where: </p>
<p><var>stddev</var> = the standard deviation of the noise generated. </p>
<p><var>HorizCorr</var> = the horizontal correlation factor, causing horizontal
steaking. (0.0 to 1.0) </p>
<p><var>VerticalCorr</var> = the vertical correlation factor. (0.0 to 1.0) </p>
<p>The correlation factors are actually just implemented as exponential
smoothing which give a weird side affect that I did not attempt to adjust. But
this means that as you increase either corr factor you will have to also
increase the stddev (grain amount) in order to get the same visible amount of
grain, since it is being smooth out a bit.</p>
<p>Increase both corr factors can somewhat give clumps, or larger grain size. </p>
<p>And there is an interesting effect with, say, AddGrain(800,0,.9) or any huge
amount of strongly vertical grain. It can make any scene look like it is
raining.</p>
<p><kbd>$Date: 2004/08/13 21:57:24 $</kbd></p>
</html>
